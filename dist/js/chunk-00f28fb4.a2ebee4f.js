(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00f28fb4"],{"214b":function(t,a,e){"use strict";e("d60b")},2532:function(t,a,e){"use strict";var n=e("23e7"),s=e("5a34"),i=e("1d80"),r=e("577e"),o=e("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~r(i(this)).indexOf(r(s(t)),arguments.length>1?arguments[1]:void 0)}})},"2d38":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"btn btn-primary"},[e("i",{staticClass:"fa fa-plus"})]),e("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Point of interest"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[e("form",{ref:"form",on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{label:"Name"}},[e("b-form-input",{model:{value:t.poi.name,callback:function(a){t.$set(t.poi,"name",a)},expression:"poi.name"}})],1),e("b-form-group",{attrs:{label:"Address"}},[e("b-form-input",{model:{value:t.poi.address,callback:function(a){t.$set(t.poi,"address",a)},expression:"poi.address"}})],1),e("b-form-group",{attrs:{label:"Phone"}},[e("b-form-input",{model:{value:t.poi.phone,callback:function(a){t.$set(t.poi,"phone",a)},expression:"poi.phone"}})],1),e("b-form-group",{attrs:{label:"Type"}},[e("b-form-input",{model:{value:t.poi.type,callback:function(a){t.$set(t.poi,"type",a)},expression:"poi.type"}})],1),e("b-form-group",{attrs:{label:"Status"}},[e("b-form-input",{model:{value:t.poi.status,callback:function(a){t.$set(t.poi,"status",a)},expression:"poi.status"}})],1)],1)])],1)},s=[],i=(e("cca6"),e("b0c0"),{props:{edit:{type:Object,default:null}},watch:{edit:function(){this.edit?this.poi=Object.assign({},this.edit):this.poi={}}},data:function(){return{poi:{id:Math.floor(1e3*Math.random()),name:"",address:"",phone:"",type:"",status:!0},name:"",nameState:null,submittedNames:[]}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},resetModal:function(){this.name="",this.nameState=null},handleOk:function(t){this.$emit("save",this.poi),console.log(this.poi),this.poi={id:Math.floor(1e3*Math.random()),name:"",address:"",phone:"",type:"",status:!0},t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.submittedNames.push(this.name),this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")})))}}}),r=i,o=(e("7f0b"),e("2877")),l=Object(o["a"])(r,n,s,!1,null,"0a7496fd",null);a["default"]=l.exports},"38e0":function(t,a,e){},4101:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-12 card"},[e("div",{staticClass:"card-header"},[e("span",{staticClass:"pull-right"},[e("b-button",{staticClass:"fa fa-plus",staticStyle:{width:"50px",height:"50px",border:"solid 5px white",background:"#3bb9e3","border-radius":"100%","-moz-border-radius":"100%","-webkit-border-radius":"100%","font-size":"20px",display:"flex","justify-content":"center",padding:"7px"},attrs:{size:"sm"},on:{click:t.handleCreate}}),e("addApartment",{attrs:{edit:t.getEditData},on:{save:t.clickAdd}})],1)]),e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-sm-6 left"},[e("span",{staticClass:"pull-left"},[e("div",{staticClass:"status"},[e("h4",[t._v("Status:")]),e("div",{staticClass:"list-status"},t._l(t.listStatus,(function(a,n){return e("div",{key:a,staticClass:"item",class:{active:a==t.selectedStatus},on:{click:function(a){return t.chooseStatus(n)}}},[t._v(" "+t._s(a)+" ")])})),0)])])]),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"pull-right"},[e("fg-input",{staticClass:"input-sm",attrs:{placeholder:"Search","addon-right-icon":"nc-icon nc-zoom-split"},model:{value:t.searchQuery,callback:function(a){t.searchQuery=a},expression:"searchQuery"}})],1)]),e("div",{staticClass:"col-sm-12 mt-2"},[e("el-table",{staticClass:"table-striped",staticStyle:{width:"100%"},attrs:{data:t.queriedData,border:""}},[e("el-table-column",{attrs:{prop:"name",label:"Name"}}),e("el-table-column",{attrs:{prop:"address","min-width":"200",label:"Address "}}),e("el-table-column",{attrs:{align:"center","min-width":"50",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.status?e("p",{staticStyle:{color:"green"}},[t._v(" ● Active ")]):e("p",{staticStyle:{color:"red"}},[t._v("● Inactive")])]}}])}),e("el-table-column",{attrs:{"min-width":50,fixed:"right","class-name":"td-actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p-button",{attrs:{type:"success",size:"sm",icon:""},on:{click:function(e){return t.handleEdit(a.$index,a.row)}}},[e("i",{staticClass:"fa fa-edit"})]),e("p-button",{attrs:{type:"danger",size:"sm",icon:""},on:{click:function(e){return t.handleDelete(a.$index,a.row)}}},[e("i",{staticClass:"fa fa-times"})])]}}])})],1)],1)])]),e("div",{staticClass:"col-sm-6 pagination-info"},[e("p",{staticClass:"category"},[t._v(" Showing "+t._s(t.from+1)+" to "+t._s(t.to)+" of "+t._s(t.total)+" entries ")])]),e("div",{staticClass:"col-sm-6"},[e("p-pagination",{staticClass:"pull-right",attrs:{"per-page":t.pagination.perPage,total:t.pagination.total},model:{value:t.pagination.currentPage,callback:function(a){t.$set(t.pagination,"currentPage",a)},expression:"pagination.currentPage"}})],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"title"},[t._v("Apartment List")])])}],i=e("1da1"),r=e("b85c"),o=(e("6611"),e("450d"),e("e772")),l=e.n(o),c=(e("1f1a"),e("4e4b")),u=e.n(c),d=(e("5466"),e("ecdf")),p=e.n(d),h=(e("38a0"),e("ad41")),m=e.n(h),f=(e("96cf"),e("fb6a"),e("4de4"),e("d3b7"),e("25f0"),e("caad"),e("2532"),e("159b"),e("b0c0"),e("c740"),e("2b0e")),b=e("eef9"),g=e("56d7"),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Add new apartment"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[e("form",{ref:"form",on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{label:"Name"}},[e("b-form-input",{model:{value:t.apartment.name,callback:function(a){t.$set(t.apartment,"name",a)},expression:"apartment.name"}})],1),e("b-form-group",{attrs:{label:"Address"}},[e("b-form-input",{model:{value:t.apartment.address,callback:function(a){t.$set(t.apartment,"address",a)},expression:"apartment.address"}})],1),e("b-form-group",{attrs:{label:"Status"}},[t.apartment.status?e("p",{staticStyle:{color:"green"}},[t._v("● Active")]):e("p",{staticStyle:{color:"red"}},[t._v("● Inactive")]),e("p-switch",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-center",modifiers:{"modal-center":!0}}],model:{value:t.apartment.status,callback:function(a){t.$set(t.apartment,"status",a)},expression:"apartment.status"}})],1)],1)])],1)},S=[],D=(e("cca6"),e("955a")),w={components:{PSwitch:D["a"]},props:{edit:{type:Object,default:null}},watch:{edit:function(){this.edit?this.apartment=Object.assign({},this.edit):this.apartment={}}},data:function(){return{apartment:{id:null,name:"",address:"",status:Boolean},name:"",nameState:null,submittedNames:[]}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},resetModal:function(){this.name="",this.nameState=null,console.log("resetModal")},handleOk:function(t){this.$emit("save",this.apartment),console.log(this.apartment,"apartment handle Ok "),t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.submittedNames.push(this.name),this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")})))}}},y=w,_=e("2877"),C=Object(_["a"])(y,v,S,!1,null,null,null),k=C.exports,P=e("49d5"),x=e("bc3a"),I=e.n(x);f["default"].use(m.a),f["default"].use(p.a),f["default"].use(u.a),f["default"].use(l.a);var $={components:{PPagination:b["a"],addApartment:k,PSwitch:D["a"]},watch:{selectedStatus:function(){this.loadData()}},computed:{pagedData:function(){return this.tableData.slice(this.from,this.to)},queriedData:function(){var t=this;if(!this.searchQuery)return this.pagination.total=this.tableData.length,this.pagedData;var a=this.tableData.filter((function(a){var e,n=!1,s=Object(r["a"])(t.propsToSearch);try{for(s.s();!(e=s.n()).done;){var i=e.value,o=a[i].toString();o.includes&&o.includes(t.searchQuery)&&(n=!0)}}catch(l){s.e(l)}finally{s.f()}return n}));return this.pagination.total=a.length,a.slice(this.from,this.to)},to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)},total:function(){return this.pagination.total=this.tableData.length,this.tableData.length}},data:function(){return{getEditData:Object,pagination:{perPage:10,currentPage:1,total:0},listStatus:["All","Active","Inactive"],selectedStatus:"All",searchQuery:"",propsToSearch:["name","address"],tableData:[]}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=localStorage.getItem("token"),console.log(e),a.next=4,Object(P["b"])("api/v1/apartments",e,null);case 4:n=a.sent,console.log(n),200==n.status&&""!=n.data&&(t.tableData=n.data);case 7:case"end":return a.stop()}}),a)})))()},mounted:function(){g["bus"].$emit("hide",!1)},beforeDestroy:function(){g["bus"].$emit("show",!0),console.log("beforeDestroy")},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=localStorage.getItem("token"),a.next=3,Object(P["b"])("api/v1/apartments/",e,null);case 3:n=a.sent,200==n.status&&""!=n.data&&(t.tableData=[],"All"==t.selectedStatus?t.tableData=n.data:(console.log("oh right"),s=!0,"Inactive"==t.selectedStatus&&(s=!1),console.log("status",s),n.data.forEach((function(a){a.status==s&&t.tableData.push(a)}))));case 5:case"end":return a.stop()}}),a)})))()},chooseStatus:function(t){this.selectedStatus=this.listStatus[t]},clickAdd:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!=t.id){e.next=11;break}return n=localStorage.getItem("token"),s=I.a.post("http://18.136.195.171:8080/api/v1/apartments",{name:t.name,address:t.address,status:!0},{headers:{Authorization:"Bearer "+n}}),e.t0=a.tableData,e.next=7,s;case 7:e.t1=e.sent.data,e.t0.push.call(e.t0,e.t1).then((function(){g["bus"].$emit("update","update")})),e.next=13;break;case 11:i=a.tableData.findIndex((function(a){return a.id==t.id})),i>=0&&(r=localStorage.getItem("token"),I.a.put("http://18.136.195.171:8080/api/v1/apartments/{id}",{id:t.id,name:t.name,address:t.address,status:t.status},{headers:{Authorization:"Bearer "+r}}).then((function(){a.tableData[i].id=t.id,a.tableData[i].name=t.name,a.tableData[i].address=t.address,a.tableData[i].status=t.status,g["bus"].$emit("update","update")})));case 13:e.next=18;break;case 15:e.prev=15,e.t2=e["catch"](0),console.log(e.t2);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},handleCreate:function(){this.getEditData={status:!0},this.$bvModal.show("modal-prevent-closing")},handleEdit:function(t,a){console.log("index",t),console.log("row",a),this.getEditData=a,this.$bvModal.show("modal-prevent-closing")},handleDelete:function(t,a){var e=this,n=confirm("Bạn có muốn xóa không nhỉ? ");if(n){var s=this.tableData.findIndex((function(t){return t.id===a.id}));if(s>=0){console.log(a.id);var i=localStorage.getItem("token");I.a.put("http://18.136.195.171:8080/api/v1/apartments/{id}",{id:a.id,name:a.name,address:a.address,status:!1},{headers:{Authorization:"Bearer "+i}}).then((function(){e.tableData[s].status=!1,g["bus"].$emit("update","update")}))}}},valSwitch:function(){}}},A=$,O=(e("c911"),Object(_["a"])(A,n,s,!1,null,null,null));a["default"]=O.exports},"5f4a":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-12 card",attrs:{icon:""}},[e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-sm-6"},[e("span",{staticClass:"pull-left"},[e("div",{staticClass:"status"},[e("h4",[t._v("Status:")]),e("div",{staticClass:"list-status"},t._l(t.listStatus,(function(a,n){return e("div",{key:a,staticClass:"item",class:{active:a==t.selectedStatus},on:{click:function(a){return t.chooseStatus(n)}}},[t._v(" "+t._s(a)+" ")])})),0)])])]),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"pull-right"},[e("fg-input",{staticClass:"input-sm",attrs:{placeholder:"Search name","addon-right-icon":"nc-icon nc-zoom-split"},model:{value:t.searchQuery,callback:function(a){t.searchQuery=a},expression:"searchQuery"}})],1)]),e("div",{staticClass:"col-sm-12 mt-2"},[e("el-table",{staticClass:"table-striped",staticStyle:{width:"100%"},attrs:{data:t.queriedData,border:""}},[e("el-table-column",{attrs:{prop:"username",minWidth:"120",label:"Name"}}),e("el-table-column",{attrs:{prop:"fullname",minWidth:"120",label:"FullName"}}),e("el-table-column",{attrs:{prop:"email","min-width":"150",label:"Email"}}),e("el-table-column",{attrs:{prop:"phone","min-width":"80",label:"Phone"}}),e("el-table-column",{attrs:{prop:"is_system_admin","min-width":"75",label:"Role"}}),e("el-table-column",{attrs:{align:"center","min-width":"50",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.status?e("p",{staticStyle:{color:"green"}},[t._v(" ● Active ")]):e("p",{staticStyle:{color:"red"}},[t._v("● Inactive")])]}}])}),e("el-table-column",{attrs:{"min-width":70,fixed:"right","class-name":"td-actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p-button",{attrs:{type:"info ",icon:""},on:{click:function(e){return t.transferToResidentPage(a.$index,a.row)}}},[e("i",{staticClass:"nc-icon nc-tap-01"})]),e("p-button",{attrs:{type:"danger",size:"sm",icon:""},on:{click:function(e){return t.handleDelete(a.$index,a.row)}}},[e("i",{staticClass:"fa fa-times"})])]}}])})],1)],1)])]),e("div",{staticClass:"col-sm-6 pagination-info"},[e("p",{staticClass:"category"},[t._v(" Showing "+t._s(this.pagination.perPage*(this.pagination.currentPage-1)+1)+" to "+t._s(t.to)+" of "+t._s(t.total)+" entries ")])]),e("div",{staticClass:"col-sm-6"},[e("p-pagination",{staticClass:"pull-right",attrs:{"per-page":t.pagination.perPage,pageCount:t.pagination.totalPage},model:{value:t.pagination.currentPage,callback:function(a){t.$set(t.pagination,"currentPage",a)},expression:"pagination.currentPage"}})],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h3",{staticClass:"title"},[t._v("User Tables")])])}],i=e("1da1"),r=e("b85c"),o=(e("6611"),e("450d"),e("e772")),l=e.n(o),c=(e("1f1a"),e("4e4b")),u=e.n(c),d=(e("5466"),e("ecdf")),p=e.n(d),h=(e("38a0"),e("ad41")),m=e.n(h),f=(e("96cf"),e("a9e3"),e("fb6a"),e("4de4"),e("d3b7"),e("25f0"),e("caad"),e("2532"),e("159b"),e("b0c0"),e("c740"),e("2b0e")),b=e("eef9"),g=e("955a"),v=e("dc9b"),S=e("bc3a"),D=e.n(S),w=e("56d7");f["default"].use(m.a),f["default"].use(p.a),f["default"].use(u.a),f["default"].use(l.a);var y={components:{PPagination:b["a"],PSwitch:g["a"],Button:v["a"]},props:{userId:Number},watch:{selectedStatus:function(){this.loadData()}},computed:{pagedData:function(){return this.tableData.slice(this.from,this.to)},queriedData:function(){var t=this;if(!this.searchQuery)return this.pagination.total=this.tableData.length,this.pagedData;var a=this.tableData.filter((function(a){var e,n=!1,s=Object(r["a"])(t.propsToSearch);try{for(s.s();!(e=s.n()).done;){var i=e.value,o=a[i].toString();o.includes&&o.includes(t.searchQuery)&&(n=!0)}}catch(l){s.e(l)}finally{s.f()}return n}));return this.pagination.total=a.length,a.slice(this.from,this.to)},to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)},total:function(){return this.pagination.total=this.tableData.length,this.tableData.length}},created:function(){localStorage.getItem("token");this.loadData()},mounted:function(){w["bus"].$emit("hide",!1)},beforeDestroy:function(){w["bus"].$emit("show",!0)},data:function(){return{pagination:{perPage:10,currentPage:1,perPageOptions:[5,10,25,50],total:0,totalPage:1},searchQuery:"",propsToSearch:["username","fullname","email","phone"],tableData:[],listStatus:["All","Active","Inactive"],selectedStatus:"All"}},methods:{transferToResidentPage:function(t,a){this.userId=a.id,this.$emit("passStoreID",this.userId),console.log("id:",this.userId),this.$router.push({name:"Resident",params:{userId:a.id}})},loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,n,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=localStorage.getItem("token"),a.next=3,D.a.get("http://18.136.195.171:8080/api/v1/users",{headers:{Authorization:"Bearer "+e}});case 3:n=a.sent,200==n.status&&""!=n.data&&(t.tableData=n.data.items,console.log("table data",t.tableData),"All"==t.selectedStatus?t.tableData=n.data.items:(s=!0,"Inactive"==t.selectedStatus&&(s=!1),i=[],t.tableData.forEach((function(t){t.status==s&&i.push(t)})),t.tableData=i));case 5:case"end":return a.stop()}}),a)})))()},chooseStatus:function(t){this.selectedStatus=this.listStatus[t],this.loadData()},handleEdit:function(t,a){alert("Your want to edit ".concat(a.name))},handleDelete:function(t,a){var e=confirm("Do you want to Inactive? ");if(e){var n=this.tableData.findIndex((function(t){return t.id===a.id}));if(n>=0){var s=localStorage.getItem("token");D.a.put("http://18.136.195.171:8080/api/v1/users/{id}",{id:a.id,username:a.username,password:a.password,fullname:a.fullname,phone:a.phone,email:a.email,is_system_admin:a.is_system_admin,status:!1},{headers:{Authorization:"Bearer "+s}}).then(this.tableData[n].status=!1)}}}}},_=y,C=(e("d429"),e("2877")),k=Object(C["a"])(_,n,s,!1,null,null,null);a["default"]=k.exports},"60da":function(t,a,e){"use strict";var n=e("83ab"),s=e("d039"),i=e("df75"),r=e("7418"),o=e("d1e7"),l=e("7b0b"),c=e("44ad"),u=Object.assign,d=Object.defineProperty;t.exports=!u||s((function(){if(n&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},a={},e=Symbol(),s="abcdefghijklmnopqrst";return t[e]=7,s.split("").forEach((function(t){a[t]=t})),7!=u({},t)[e]||i(u({},a)).join("")!=s}))?function(t,a){var e=l(t),s=arguments.length,u=1,d=r.f,p=o.f;while(s>u){var h,m=c(arguments[u++]),f=d?i(m).concat(d(m)):i(m),b=f.length,g=0;while(b>g)h=f[g++],n&&!p.call(m,h)||(e[h]=m[h])}return e}:u},6771:function(t,a,e){},"681a":function(t,a,e){},"7f0b":function(t,a,e){"use strict";e("38e0")},"9a2b":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-12 card"},[e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-sm-6"},[e("span",{staticClass:"pull-left"},[e("div",{staticClass:"status"},[e("h4",[t._v("Status:")]),e("div",{staticClass:"list-status"},t._l(t.listStatus,(function(a,n){return e("div",{key:a,staticClass:"item",class:{active:a==t.selectedStatus},on:{click:function(a){return t.chooseStatus(n)}}},[t._v(" "+t._s(a)+" ")])})),0)])])]),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"pull-right"},[e("fg-input",{staticClass:"input-sm",attrs:{placeholder:"Search","addon-right-icon":"nc-icon nc-zoom-split"},model:{value:t.searchQuery,callback:function(a){t.searchQuery=a},expression:"searchQuery"}})],1)]),e("div",{staticClass:"col-sm-12 mt-2"},[e("el-table",{staticClass:"table-striped",staticStyle:{width:"100%"},attrs:{data:t.queriedData,border:""}},[t._l(t.tableColumns,(function(t){return e("el-table-column",{key:t.label,attrs:{"min-width":t.minWidth,prop:t.prop,label:t.label}})})),e("el-table-column",{attrs:{align:"left",label:"Active","min-width":120},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.status?e("p",{staticStyle:{color:"green"}},[t._v(" ● Active ")]):e("p",{staticStyle:{color:"red"}},[t._v("● Inactive")])]}}])}),e("el-table-column",{attrs:{"min-width":120,fixed:"right","class-name":"td-actions",label:"View product"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p-button",{attrs:{type:"info ",icon:""},on:{click:function(e){return t.transferToProductPage(a.$index,a.row)}}},[e("i",{staticClass:"nc-icon nc-tap-01"})])]}}])})],2)],1)])]),e("div",{staticClass:"col-sm-6 pagination-info"},[e("p",{staticClass:"category"},[t._v(" Showing "+t._s(t.from+1)+" to "+t._s(t.to)+" of "+t._s(t.total)+" entries ")])]),e("div",{staticClass:"col-sm-6"},[e("p-pagination",{staticClass:"pull-right",attrs:{"per-page":t.pagination.perPage,total:t.pagination.total},model:{value:t.pagination.currentPage,callback:function(a){t.$set(t.pagination,"currentPage",a)},expression:"pagination.currentPage"}})],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"title"},[t._v("Store List")])])}],i=e("1da1"),r=e("b85c"),o=e("ade3"),l=(e("6611"),e("450d"),e("e772")),c=e.n(l),u=(e("1f1a"),e("4e4b")),d=e.n(u),p=(e("5466"),e("ecdf")),h=e.n(p),m=(e("38a0"),e("ad41")),f=e.n(m),b=(e("96cf"),e("b0c0"),e("a9e3"),e("fb6a"),e("4de4"),e("d3b7"),e("25f0"),e("caad"),e("2532"),e("159b"),e("2b0e")),g=e("2d58"),v=e("eef9"),S=e("955a"),D=e("bc3a"),w=e.n(D),y=e("56d7");b["default"].use(f.a),b["default"].use(h.a),b["default"].use(d.a),b["default"].use(c.a);var _={components:Object(o["a"])({PPagination:v["a"],PSwitch:S["a"],Card:g["c"]},g["b"].name,g["b"]),props:{storeID:Number},computed:{pagedData:function(){return this.tableData.slice(this.from,this.to)},queriedData:function(){var t=this;if(!this.searchQuery)return this.pagination.total=this.tableData.length,this.pagedData;var a=this.tableData.filter((function(a){var e,n=!1,s=Object(r["a"])(t.propsToSearch);try{for(s.s();!(e=s.n()).done;){var i=e.value,o=a[i].toString();o.includes&&o.includes(t.searchQuery)&&(n=!0)}}catch(l){s.e(l)}finally{s.f()}return n}));return this.pagination.total=a.length,a.slice(this.from,this.to)},to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)},total:function(){return this.pagination.total=this.tableData.length,this.tableData.length}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:y["bus"].$on("apartmentId",t.getApartmentId),console.log("created"),t.loadData();case 3:case"end":return a.stop()}}),a)})))()},beforeDestroy:function(){y["bus"].$off("apartmentId",this.getApartmentId)},watch:{apartmentId:function(){this.loadData()}},data:function(){return{apartmentName:"",data1:{},listStatus:["All","Active","Inactive"],selectedStatus:"All",pagination:{perPage:10,currentPage:1,total:0},apartmentId:1,searchQuery:"",propsToSearch:["name"],tableColumns:[{prop:"name",label:"Name",minWidth:130},{prop:"address",label:"Address",minWidth:130},{prop:"phone",label:"Phone",minWidth:130},{prop:"apartmentName",label:"Apartment",minWidth:250}],tableData:[]}},methods:{getApartmentId:function(t){if(this.apartmentId=localStorage.getItem("apartmentId"),null==t)return 1;console.log("Apartment change: this.apartmentId",this.apartmentId)},loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,n,s,i,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=localStorage.getItem("token"),a.prev=1,a.next=4,w.a.get("http://18.136.195.171:8080/api/v1/stores",{params:{"apartment-id":t.apartmentId}},{headers:{Authorization:"Bearer "+e}});case 4:if(n=a.sent,200!=n.status||""==n.data.items){a.next=17;break}return s=n.data.items,t.tableData=s,t.pagination.total=n.data.total_count,a.next=11,w.a.get("http://18.136.195.171:8080/api/v1/apartments/"+t.apartmentId,{headers:{Authorization:"Bearer "+e}});case 11:for(i=a.sent,t.apartmentName=i.data.name,r=[],o=0;o<t.tableData.length;o++)t.data1={address:t.tableData[o].address,closing_time:t.tableData[o].closing_time,name:t.tableData[o].name,opening_time:t.tableData[o].opening_time,owner_store:t.tableData[o].owner_store,phone:t.tableData[o].phone,status:t.tableData[o].status,store_id:t.tableData[o].store_id,apartmentName:t.apartmentName},r.push(t.data1);t.tableData=r,"All"==t.selectedStatus?t.tableData=t.tableData:(l=!0,"Inactive"==t.selectedStatus&&(l=!1),r=[],t.tableData.forEach((function(t){t.status==l&&r.push(t)})),t.tableData=r);case 17:a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](1),console.log(a.t0),t.tableData=[];case 23:case"end":return a.stop()}}),a,null,[[1,19]])})))()},chooseStatus:function(t){this.selectedStatus=this.listStatus[t],this.loadData()},transferToProductPage:function(t,a){this.storeID=a.store_id,this.$emit("passStoreID",this.storeID),this.$router.push({name:"Store Product",params:{storeID:a.store_id}})}}},C=_,k=(e("214b"),e("2877")),P=Object(k["a"])(C,n,s,!1,null,null,null);a["default"]=P.exports},c0a4:function(t,a,e){},c17a:function(t,a,e){"use strict";e("6771")},c911:function(t,a,e){"use strict";e("681a")},cca6:function(t,a,e){var n=e("23e7"),s=e("60da");n({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},d429:function(t,a,e){"use strict";e("c0a4")},d60b:function(t,a,e){},fb3b:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-12 card",attrs:{icon:""}},[e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-sm-6"},[e("span",{staticClass:"pull-left"},[e("div",{staticClass:"status"},[e("h4",[t._v("Status:")]),e("div",{staticClass:"list-status"},t._l(t.listStatus,(function(a,n){return e("div",{key:a,staticClass:"item",class:{active:a==t.selectedStatus},on:{click:function(a){return t.chooseStatus(n)}}},[t._v(" "+t._s(a)+" ")])})),0)])])]),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"pull-right"},[e("fg-input",{staticClass:"input-sm",attrs:{placeholder:"Search name","addon-right-icon":"nc-icon nc-zoom-split"},model:{value:t.searchQuery,callback:function(a){t.searchQuery=a},expression:"searchQuery"}})],1)]),e("div",{staticClass:"col-sm-12 mt-2"},[e("el-table",{staticClass:"table-striped",staticStyle:{width:"100%"},attrs:{data:t.queriedData,border:""}},[e("el-table-column",{attrs:{prop:"username",minWidth:"120",label:"Name"}}),e("el-table-column",{attrs:{prop:"fullname",minWidth:"120",label:"FullName"}}),e("el-table-column",{attrs:{prop:"email","min-width":"150",label:"Email"}}),e("el-table-column",{attrs:{prop:"phone","min-width":"80",label:"Phone"}}),e("el-table-column",{attrs:{prop:"is_system_admin","min-width":"75",label:"Role"}}),e("el-table-column",{attrs:{align:"center","min-width":"50",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.status?e("p",{staticStyle:{color:"green"}},[t._v(" ● Active ")]):e("p",{staticStyle:{color:"red"}},[t._v("● Inactive")])]}}])}),e("el-table-column",{attrs:{"min-width":70,fixed:"right","class-name":"td-actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p-button",{attrs:{type:"danger",size:"sm",icon:""},on:{click:function(e){return t.handleDelete(a.$index,a.row)}}},[e("i",{staticClass:"fa fa-times"})])]}}])})],1)],1)])]),e("div",{staticClass:"col-sm-6 pagination-info"},[e("p",{staticClass:"category"},[t._v(" Showing "+t._s(this.pagination.perPage*(this.pagination.currentPage-1)+1)+" to "+t._s(t.to)+" of "+t._s(t.total)+" entries ")])]),e("div",{staticClass:"col-sm-6"},[e("p-pagination",{staticClass:"pull-right",attrs:{"per-page":t.pagination.perPage,pageCount:t.pagination.totalPage},model:{value:t.pagination.currentPage,callback:function(a){t.$set(t.pagination,"currentPage",a)},expression:"pagination.currentPage"}})],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h3",{staticClass:"title"},[t._v("Account Tables")])])}],i=e("1da1"),r=e("b85c"),o=(e("6611"),e("450d"),e("e772")),l=e.n(o),c=(e("1f1a"),e("4e4b")),u=e.n(c),d=(e("5466"),e("ecdf")),p=e.n(d),h=(e("38a0"),e("ad41")),m=e.n(h),f=(e("96cf"),e("fb6a"),e("4de4"),e("d3b7"),e("25f0"),e("caad"),e("2532"),e("159b"),e("b0c0"),e("c740"),e("2b0e")),b=e("eef9"),g=e("955a"),v=e("dc9b"),S=e("bc3a"),D=e.n(S),w=e("56d7");f["default"].use(m.a),f["default"].use(p.a),f["default"].use(u.a),f["default"].use(l.a);var y={components:{PPagination:b["a"],PSwitch:g["a"],Button:v["a"]},watch:{selectedStatus:function(){this.loadData()}},computed:{pagedData:function(){return this.tableData.slice(this.from,this.to)},queriedData:function(){var t=this;if(!this.searchQuery)return this.pagination.total=this.tableData.length,this.pagedData;var a=this.tableData.filter((function(a){var e,n=!1,s=Object(r["a"])(t.propsToSearch);try{for(s.s();!(e=s.n()).done;){var i=e.value,o=a[i].toString();o.includes&&o.includes(t.searchQuery)&&(n=!0)}}catch(l){s.e(l)}finally{s.f()}return n}));return this.pagination.total=a.length,a.slice(this.from,this.to)},to:function(){var t=this.from+this.pagination.perPage;return this.total<t&&(t=this.total),t},from:function(){return this.pagination.perPage*(this.pagination.currentPage-1)},total:function(){return this.pagination.total=this.tableData.length,this.tableData.length}},created:function(){this.loadData()},mounted:function(){w["bus"].$emit("hide",!1)},beforeDestroy:function(){w["bus"].$emit("show",!0)},data:function(){return{pagination:{perPage:10,currentPage:1,perPageOptions:[5,10,25,50],total:0,totalPage:1},searchQuery:"",propsToSearch:["username","fullname","email","phone"],tableData:[],listStatus:["All","Active","Inactive"],selectedStatus:"All"}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,n,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=localStorage.getItem("token"),a.next=3,D.a.get("http://18.136.195.171:8080/api/v1/residents",{headers:{Authorization:"Bearer "+e}});case 3:n=a.sent,200==n.status&&""!=n.data&&(t.tableData=n.data.items,console.log("table data",t.tableData),"All"==t.selectedStatus?t.tableData=n.data.items:(s=!0,"Inactive"==t.selectedStatus&&(s=!1),i=[],t.tableData.forEach((function(t){t.status==s&&i.push(t)})),t.tableData=i));case 5:case"end":return a.stop()}}),a)})))()},chooseStatus:function(t){this.selectedStatus=this.listStatus[t],this.loadData()},handleEdit:function(t,a){alert("Your want to edit ".concat(a.name))},handleDelete:function(t,a){var e=confirm("Do you want to Inactive? ");if(e){var n=this.tableData.findIndex((function(t){return t.id===a.id}));if(n>=0){var s=localStorage.getItem("token");D.a.put("http://18.136.195.171:8080/api/v1/users/{id}",{id:a.id,username:a.username,password:a.password,fullname:a.fullname,phone:a.phone,email:a.email,is_system_admin:a.is_system_admin,status:!1},{headers:{Authorization:"Bearer "+s}}).then(this.tableData[n].status=!1)}}}}},_=y,C=(e("c17a"),e("2877")),k=Object(C["a"])(_,n,s,!1,null,null,null);a["default"]=k.exports}}]);
//# sourceMappingURL=chunk-00f28fb4.a2ebee4f.js.map